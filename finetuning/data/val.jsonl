{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I want to see a clock\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Lock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#888888\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#888888\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#888888\"},{\"type\":\"pixel\",\"x\":3,\"y\":3,\"color\":\"#888888\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#888888\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#888888\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#888888\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":7,\"h\":5,\"color\":\"#888888\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#FFD700\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: solid vivid orange\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Solid Vivid Orange\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF6B4A\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: make it look like the sky during a rustic solar eclipse with lots of magenta and jade colors\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Make It Look Like The Sky Duri\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#8B4513\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: a serene chess piece\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Chess Piece\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":5,\"h\":1,\"color\":\"#FFFFFF\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: pixel art chess piece\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Chess Piece\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":5,\"h\":1,\"color\":\"#FFFFFF\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: terracotta sparkle on dark purple background\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Terracotta Sparkle On Dark Pur\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#191970\",\"bgColor\":\"#0a0a0a\",\"speed\":100,\"density\":0.1}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: can you display a winking face\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Winking Face\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":3,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":3,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":3,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":7,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"line\",\"x1\":5,\"y1\":4,\"x2\":7,\"y2\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#000000\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I want to see a bear\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Bear\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a1a0a\"},{\"type\":\"pixel\",\"x\":3,\"y\":2,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":7,\"y\":2,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":3,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":3,\"y\":7,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":4,\"y\":7,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":7,\"y\":7,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":3,\"y\":8,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":4,\"y\":8,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":6,\"y\":8,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":7,\"y\":8,\"color\":\"#8B4513\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: twinkling hot pink stars\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Twinkling Hot Pink Stars\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FF6B4A\",\"bgColor\":\"#1a1a1a\",\"speed\":80,\"density\":0.1}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show a anchor with rustic background animation\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Anchor Then Wave\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#003366\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":3,\"y\":7,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":2,\"y\":8,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":8,\"y\":7,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":7,\"y\":8,\"color\":\"#4A6FA5\"},{\"type\":\"rect\",\"x\":2,\"y\":9,\"w\":7,\"h\":1,\"color\":\"#4A6FA5\"}]},\"duration\":5000},{\"id\":\"after\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#8B4513\",\"color2\":\"#DEB887\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I'm feeling uplifting, match my mood\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"I'M Feeling Uplifting, Match M\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FFD700\",\"color2\":\"#FF6347\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: rose\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Rose\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a0a\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#2D5A27\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#2D5A27\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#2D5A27\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#2D5A27\"},{\"type\":\"pixel\",\"x\":5,\"y\":10,\"color\":\"#2D5A27\"},{\"type\":\"pixel\",\"x\":4,\"y\":8,\"color\":\"#2D5A27\"},{\"type\":\"pixel\",\"x\":3,\"y\":9,\"color\":\"#2D5A27\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#2D5A27\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#2D5A27\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: bottle on the display\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Bottle\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#228B22\"},{\"type\":\"rect\",\"x\":3,\"y\":4,\"w\":5,\"h\":7,\"color\":\"#228B22\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show a piano keys that pulses\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Key Then Pulse\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":8,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":8,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":9,\"color\":\"#FFD700\"}]},\"duration\":5000},{\"id\":\"after\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FF6B4A\",\"speed\":800}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: a cheerful magenta atmosphere\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"A Cheerful Magenta Atmosphere\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF00FF\",\"speed\":3000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I would really love it if you could make the lamp feel like a minimalist space station during night with fern tones\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"I Would Really Love It If You \",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#F5F5F5\",\"speed\":4000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show a flag with muted background animation\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Flag Then Breathing\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#87CEEB\"},{\"type\":\"pixel\",\"x\":2,\"y\":2,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":2,\"y\":3,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":2,\"y\":4,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":2,\"y\":5,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":2,\"y\":6,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":2,\"y\":7,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":2,\"y\":8,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":2,\"y\":9,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":2,\"y\":10,\"color\":\"#666666\"},{\"type\":\"rect\",\"x\":3,\"y\":2,\"w\":5,\"h\":4,\"color\":\"#FF0000\"}]},\"duration\":5000},{\"id\":\"after\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#8B8682\",\"speed\":3000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: fade from vivid orange to ice blue\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Transition\",\"steps\":[{\"id\":\"start\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF6B4A\"}},\"duration\":15000},{\"id\":\"end\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#4A90D9\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show the time 4:05\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"4\",\"x\":2,\"y\":2,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#44AAFF\"},{\"type\":\"text\",\"content\":\"05\",\"x\":2,\"y\":8,\"color\":\"#44AAFF\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: boat\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Boat\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#003366\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":8,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":7,\"h\":2,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":1,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":9,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":2,\"y\":7,\"color\":\"#1a3366\"},{\"type\":\"pixel\",\"x\":3,\"y\":7,\"color\":\"#1a3366\"},{\"type\":\"pixel\",\"x\":4,\"y\":7,\"color\":\"#1a3366\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#1a3366\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#1a3366\"},{\"type\":\"pixel\",\"x\":7,\"y\":7,\"color\":\"#1a3366\"},{\"type\":\"pixel\",\"x\":8,\"y\":7,\"color\":\"#1a3366\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: the perfect evening ambiance\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"The Perfect Evening Ambiance\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: fall midnight vibes\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Fall Midnight Vibes\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#191970\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: flickering red breathing\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Flickering Red Breathing\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FF6B4A\",\"speed\":3000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: just lime\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Just Lime\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF6B4A\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: make it look like the sky during a serene volcano eruption with lots of magenta and seafoam colors\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Make It Look Like The Sky Duri\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#87CEEB\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: draw a tiny alien face\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Alien Face\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#44FF44\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#44FF44\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#44FF44\"},{\"type\":\"pixel\",\"x\":3,\"y\":3,\"color\":\"#44FF44\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#44FF44\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#44FF44\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#44FF44\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#44FF44\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#44FF44\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#44FF44\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#44FF44\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#44FF44\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#44FF44\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#44FF44\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#44FF44\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#44FF44\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#44FF44\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#000000\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: pomodoro 25 minutes work 10 minutes break\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":600000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I would really love it if you could make the lamp feel like a futuristic campfire during golden hour with hot pink tones\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"I Would Really Love It If You \",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#00FFFF\",\"color2\":\"#0000FF\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: crescent moon on the display\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Moon\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":6,\"y\":1,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":7,\"y\":1,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":8,\"y\":2,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":8,\"y\":3,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":8,\"y\":6,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":8,\"y\":7,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":6,\"y\":8,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":7,\"y\":8,\"color\":\"#FFFFCC\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: display X then rainbow\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Trophy Then Rainbow\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":3,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":3,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":2,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":8,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#FFD700\"},{\"type\":\"rect\",\"x\":3,\"y\":8,\"w\":5,\"h\":1,\"color\":\"#FFD700\"}]},\"duration\":5000},{\"id\":\"after\",\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":4000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: alternate between ice blue and warm white\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Color Cycle\",\"steps\":[{\"id\":\"c0\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FFF0DC\"}},\"duration\":2000},{\"id\":\"c1\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#4A90D9\"}},\"duration\":2000},{\"id\":\"c2\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#B0E0E6\"}},\"duration\":2000},{\"id\":\"c3\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FFFFFF\"}},\"duration\":2000}],\"loop\":{\"count\":0,\"start_step\":\"c0\",\"end_step\":\"c3\"}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: like a enchanted forest\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Like A Enchanted Forest\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#8B4513\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: create a fuchsia cross\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Cross\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"rect\",\"x\":4,\"y\":1,\"w\":2,\"h\":10,\"color\":\"#FF00FF\"},{\"type\":\"rect\",\"x\":1,\"y\":4,\"w\":8,\"h\":2,\"color\":\"#FF00FF\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show STAR on dark green background\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Display STAR\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a1a0a\"},{\"type\":\"text\",\"content\":\"STAR\",\"x\":0,\"y\":5,\"color\":\"#0a1a0a\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show LAMP in aquamarine on black background\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Display LAMP\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000000\"},{\"type\":\"text\",\"content\":\"LAMP\",\"x\":0,\"y\":5,\"color\":\"#7FFFD4\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I'm feeling muted, match my mood\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"I'M Feeling Muted, Match My Mo\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#8B8682\",\"color2\":\"#DEB887\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: draw a winking face for 25 minutes then breathing jade\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Winking Face Then Breathing\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":3,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":3,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":3,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":7,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"line\",\"x1\":5,\"y1\":4,\"x2\":7,\"y2\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#000000\"}]},\"duration\":1500000},{\"id\":\"after\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FF6B4A\",\"speed\":3500}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show SUN then sparkle for 20 minutes\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Boat Then Sparkle\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#003366\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":8,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":7,\"h\":2,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":1,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":9,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":2,\"y\":7,\"color\":\"#1a3366\"},{\"type\":\"pixel\",\"x\":3,\"y\":7,\"color\":\"#1a3366\"},{\"type\":\"pixel\",\"x\":4,\"y\":7,\"color\":\"#1a3366\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#1a3366\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#1a3366\"},{\"type\":\"pixel\",\"x\":7,\"y\":7,\"color\":\"#1a3366\"},{\"type\":\"pixel\",\"x\":8,\"y\":7,\"color\":\"#1a3366\"}]},\"duration\":1200000},{\"id\":\"after\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#87CEEB\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: powder blue and earth brown wave\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Powder Blue And Earth Brown Wa\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2500}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: focus timer with 30 minutes work and 30 minutes rest\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}},\"duration\":1800000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: partying timer 20 minutes\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Party Mode\",\"steps\":[{\"id\":\"flash1\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FF00FF\",\"speed\":300}},\"duration\":500},{\"id\":\"flash2\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#00FFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"flash3\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFD700\",\"speed\":300}},\"duration\":500},{\"id\":\"rainbow\",\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":1000}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"flash1\",\"end_step\":\"rainbow\"}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: something muted\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Something Muted\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#8B8682\",\"speed\":3000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show a rose that sparkles\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Rose Then Sparkle\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a0a\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#2D5A27\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#2D5A27\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#2D5A27\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#2D5A27\"},{\"type\":\"pixel\",\"x\":5,\"y\":10,\"color\":\"#2D5A27\"},{\"type\":\"pixel\",\"x\":4,\"y\":8,\"color\":\"#2D5A27\"},{\"type\":\"pixel\",\"x\":3,\"y\":9,\"color\":\"#2D5A27\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#2D5A27\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#2D5A27\"}]},\"duration\":5000},{\"id\":\"after\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#87CEEB\",\"bgColor\":\"#1a1a1a\",\"speed\":80,\"density\":0.2}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: arrow pointing left\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Arrow Pointing Left\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"rect\",\"x\":3,\"y\":5,\"w\":6,\"h\":2,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":2,\"y\":4,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":2,\"y\":5,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":2,\"y\":6,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":2,\"y\":7,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":1,\"y\":5,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":1,\"y\":6,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":0,\"y\":5,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":3,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":2,\"y\":3,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":8,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":2,\"y\":8,\"color\":\"#44AAFF\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: flash fuchsia\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Flash Fuchsia\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FF6B4A\",\"speed\":300}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: mysterious and elegant\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Mysterious And Elegant\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#483D8B\",\"speed\":3000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: dramatic mood\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Dramatic Mood\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF0000\",\"color2\":\"#000000\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: imagine a northern lights viewing at dusk\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Imagine A Northern Lights View\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FFB6C1\",\"color2\":\"#9370DB\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show me northern lights\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Aurora\",\"steps\":[{\"id\":\"green\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#00FF88\",\"color2\":\"#004466\",\"speed\":3000}},\"duration\":5000},{\"id\":\"purple\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#9370DB\",\"color2\":\"#004466\",\"speed\":3000}},\"duration\":5000},{\"id\":\"blue\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#00CED1\",\"color2\":\"#004466\",\"speed\":3000}},\"duration\":5000}],\"loop\":{\"count\":0,\"start_step\":\"green\",\"end_step\":\"blue\"}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: imagine a campfire at golden hour\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Imagine A Campfire At Golden H\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FF6B4A\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: pixel art a shield\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Shield\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":3,\"y\":2,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":7,\"y\":2,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":2,\"y\":3,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":3,\"y\":3,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":8,\"y\":3,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":2,\"y\":4,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":8,\"y\":4,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":3,\"y\":5,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#4444CC\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FFD700\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: a uplifting circle\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Circle\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":3,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":2,\"y\":4,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":8,\"y\":4,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":2,\"y\":5,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":8,\"y\":5,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":2,\"y\":6,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":8,\"y\":6,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":7,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":7,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":8,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":8,\"color\":\"#44AAFF\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: intense mood\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Intense Mood\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF0000\",\"color2\":\"#FF4444\",\"speed\":3000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: flash copper then show a snake\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Snake Then Pulse\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":2,\"y\":3,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":3,\"y\":3,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":3,\"y\":5,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":2,\"y\":5,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":2,\"y\":6,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":2,\"y\":7,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":3,\"y\":7,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":4,\"y\":7,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":6,\"y\":8,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":2,\"y\":3,\"color\":\"#FF0000\"}]},\"duration\":5000},{\"id\":\"after\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FF6B4A\",\"speed\":500}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: meditation timer 5 minutes\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Meditation\",\"steps\":[{\"id\":\"calm\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":5000}},\"duration\":300000}],\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#E6E6FA\"}}}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show a pumpkin that pulses\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Pumpkin Then Pulse\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a2a\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":3,\"y\":5,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":3,\"y\":6,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":4,\"y\":7,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#000000\"}]},\"duration\":5000},{\"id\":\"after\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FF6B4A\",\"speed\":800}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: paint a sword\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Sword\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#CCCCCC\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#CCCCCC\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#CCCCCC\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#CCCCCC\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#CCCCCC\"},{\"type\":\"pixel\",\"x\":3,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#FFD700\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: imagine a coffee shop at late night\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Imagine A Coffee Shop At Late \",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#191970\",\"color2\":\"#0a0a1a\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: like being at a cozy bedroom\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Like Being At A Cozy Bedroom\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: pulsing sky blue\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Pulsing Sky Blue\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FF6B4A\",\"speed\":2500}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: cozy light show\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Cozy Light Show\",\"steps\":[{\"id\":\"phase1\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":10000},{\"id\":\"phase2\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#D88B70\",\"speed\":3000}},\"duration\":5000},{\"id\":\"phase3\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: gentle steel blue waves\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Gentle Steel Blue Waves\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FFB6C1\",\"color2\":\"#F5F5DC\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: imagine a underwater cave at morning\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Imagine A Underwater Cave At M\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FF6B4A\",\"speed\":4000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: yoga for 1 minute then baking for 1 hour\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Yoga For 1 Minute Then Baking \",\"steps\":[{\"id\":\"phase1\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#87CEEB\",\"color2\":\"#F0F8FF\"}},\"duration\":8000},{\"id\":\"phase2\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#87CEEB\",\"speed\":3000}},\"duration\":5000},{\"id\":\"phase3\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#87CEEB\",\"color2\":\"#F0F8FF\",\"speed\":3000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show a coral umbrella\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Umbrella\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#87CEEB\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#FF7F50\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FF7F50\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#FF7F50\"},{\"type\":\"pixel\",\"x\":3,\"y\":3,\"color\":\"#FF7F50\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FF7F50\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FF7F50\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FF7F50\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#FF7F50\"},{\"type\":\"pixel\",\"x\":2,\"y\":4,\"color\":\"#FF7F50\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF7F50\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FF7F50\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FF7F50\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF7F50\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#FF7F50\"},{\"type\":\"pixel\",\"x\":8,\"y\":4,\"color\":\"#FF7F50\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":4,\"y\":9,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":3,\"y\":9,\"color\":\"#8B4513\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: something for a uplifting dusk\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Something For A Uplifting Dusk\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FFD700\",\"color2\":\"#FF6347\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: a earthy fish\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Fish\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#003366\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FF8C00\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FF8C00\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF8C00\"},{\"type\":\"pixel\",\"x\":3,\"y\":5,\"color\":\"#FF8C00\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#FF8C00\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FF8C00\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#FF8C00\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#FF8C00\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#FF8C00\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FF8C00\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#FF8C00\"},{\"type\":\"pixel\",\"x\":2,\"y\":4,\"color\":\"#FF8C00\"},{\"type\":\"pixel\",\"x\":2,\"y\":6,\"color\":\"#FF8C00\"},{\"type\":\"pixel\",\"x\":1,\"y\":3,\"color\":\"#FF8C00\"},{\"type\":\"pixel\",\"x\":1,\"y\":7,\"color\":\"#FF8C00\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#000000\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: quick navy breathing\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Quick Navy Breathing\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FF6B4A\",\"speed\":500}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: draw a arrow pointing left\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Arrow Pointing Left\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"rect\",\"x\":3,\"y\":5,\"w\":6,\"h\":2,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":2,\"y\":4,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":2,\"y\":5,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":2,\"y\":6,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":2,\"y\":7,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":1,\"y\":5,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":1,\"y\":6,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":0,\"y\":5,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":3,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":2,\"y\":3,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":8,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":2,\"y\":8,\"color\":\"#44AAFF\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: clock showing 12:00\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"12\",\"x\":2,\"y\":2,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#FFFFFF\"},{\"type\":\"text\",\"content\":\"00\",\"x\":2,\"y\":8,\"color\":\"#FFFFFF\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show the time 17:05\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"17\",\"x\":2,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#FFD700\"},{\"type\":\"text\",\"content\":\"05\",\"x\":2,\"y\":8,\"color\":\"#FFD700\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: navy glow\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Navy Glow\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#191970\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: display a cute sad face\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Sad Face\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":3,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":3,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":3,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":7,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#000000\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: fade from honey to terracotta\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Transition\",\"steps\":[{\"id\":\"start\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC6644\"}},\"duration\":15000},{\"id\":\"end\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#EB9605\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: transition from blue to amber over 20 minutes\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Transition\",\"steps\":[{\"id\":\"start\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FFBF00\"}},\"duration\":600000},{\"id\":\"end\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#4A90D9\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: all red\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"All Red\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF6B4A\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: a small smiley\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Smiley\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":3,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":3,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":3,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":7,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#000000\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: fiery turquoise light\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Fiery Turquoise Light\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#40E0D0\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: paint a eye\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Eye\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#4488FF\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#000000\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show A then sparkle for 20 minutes\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Candle Then Sparkle\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"rect\",\"x\":4,\"y\":4,\"w\":3,\"h\":6,\"color\":\"#FFFFCC\"}]},\"duration\":1200000},{\"id\":\"after\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#87CEEB\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.08}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: make it interesting\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Make It Interesting\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: bear\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Bear\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a1a0a\"},{\"type\":\"pixel\",\"x\":3,\"y\":2,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":7,\"y\":2,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":3,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":3,\"y\":7,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":4,\"y\":7,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":7,\"y\":7,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":3,\"y\":8,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":4,\"y\":8,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":6,\"y\":8,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":7,\"y\":8,\"color\":\"#8B4513\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show WIN in burnt sienna on dark background\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Display WIN\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"WIN\",\"x\":0,\"y\":5,\"color\":\"#E97451\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: can you draw a flower\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Flower\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a1a0a\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":5,\"y\":10,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":4,\"y\":9,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":6,\"y\":8,\"color\":\"#228B22\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: lights for golden hour\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Lights For Golden Hour\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FFD700\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: can you please create something that feels like sitting by a fireplace in a cozy cabin during a summer overcast day while painting\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Can You Please Create Somethin\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I want to see a bird\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Bird\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#87CEEB\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FF6347\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#FF6347\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FF6347\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FF6347\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF6347\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#FF6347\"},{\"type\":\"pixel\",\"x\":8,\"y\":4,\"color\":\"#FF6347\"},{\"type\":\"pixel\",\"x\":3,\"y\":5,\"color\":\"#FF6347\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#FF6347\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FF6347\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#FF6347\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#FF6347\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#FF6347\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FF6347\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#FF6347\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":9,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":9,\"y\":5,\"color\":\"#FFD700\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show a anchor\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Anchor\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#003366\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":3,\"y\":7,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":2,\"y\":8,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":8,\"y\":7,\"color\":\"#4A6FA5\"},{\"type\":\"pixel\",\"x\":7,\"y\":8,\"color\":\"#4A6FA5\"},{\"type\":\"rect\",\"x\":2,\"y\":9,\"w\":7,\"h\":1,\"color\":\"#4A6FA5\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: just teal\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Just Teal\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF6B4A\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I want to see a bicycle\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Bicycle\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#87CEEB\"},{\"type\":\"pixel\",\"x\":2,\"y\":6,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":1,\"y\":7,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":3,\"y\":7,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":2,\"y\":8,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":8,\"y\":7,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":7,\"y\":8,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":3,\"y\":5,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#333333\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: focus timer with 2 minutes work and 10 minutes rest\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#D94444\"}},\"duration\":120000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#44BB77\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: nostalgic atmosphere for board games\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Nostalgic Atmosphere For Board\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#DEB887\",\"color2\":\"#8B4513\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: dramatic and dreamy\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Dramatic And Dreamy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF0000\",\"color2\":\"#000000\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: a relaxing saturn\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Saturn\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#DAA520\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#DAA520\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#DAA520\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#DAA520\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#DAA520\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#DAA520\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#DAA520\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#DAA520\"},{\"type\":\"pixel\",\"x\":3,\"y\":5,\"color\":\"#DAA520\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#DAA520\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#DAA520\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#DAA520\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#DAA520\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#DAA520\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#DAA520\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#DAA520\"},{\"type\":\"pixel\",\"x\":1,\"y\":4,\"color\":\"#B8860B\"},{\"type\":\"pixel\",\"x\":2,\"y\":4,\"color\":\"#B8860B\"},{\"type\":\"pixel\",\"x\":8,\"y\":4,\"color\":\"#B8860B\"},{\"type\":\"pixel\",\"x\":9,\"y\":4,\"color\":\"#B8860B\"},{\"type\":\"pixel\",\"x\":0,\"y\":5,\"color\":\"#B8860B\"},{\"type\":\"pixel\",\"x\":1,\"y\":5,\"color\":\"#B8860B\"},{\"type\":\"pixel\",\"x\":8,\"y\":5,\"color\":\"#B8860B\"},{\"type\":\"pixel\",\"x\":9,\"y\":5,\"color\":\"#B8860B\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: match the vibe of a japanese garden\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Match The Vibe Of A Japanese G\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FFB6C1\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show a peace sign that pulses\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Peace Sign Then Pulse\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a2a\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":2,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":8,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":2,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":8,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":7,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":8,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":8,\"color\":\"#FFFFFF\"}]},\"duration\":5000},{\"id\":\"after\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FF6B4A\",\"speed\":800}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: draw a dice for 1 hour then breathing fern\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Dice Then Breathing\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"rect\",\"x\":2,\"y\":3,\"w\":7,\"h\":7,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":4,\"y\":7,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#000000\"}]},\"duration\":3600000},{\"id\":\"after\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FF6B4A\",\"speed\":3500}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: display the number 14\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Number\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":1,\"y\":5,\"color\":\"#FFD700\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I'm feeling tropical, match my mood\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"I'M Feeling Tropical, Match My\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6347\",\"color2\":\"#00CED1\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: peaceful animation\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Peaceful Animation\",\"steps\":[{\"id\":\"phase1\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#87CEEB\",\"color2\":\"#E6E6FA\"}},\"duration\":10000},{\"id\":\"phase2\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#87CEEB\",\"speed\":4000}},\"duration\":10000},{\"id\":\"phase3\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#87CEEB\",\"color2\":\"#E6E6FA\",\"speed\":3000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I want to see a rose\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Rose\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a0a\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#CC0033\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#2D5A27\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#2D5A27\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#2D5A27\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#2D5A27\"},{\"type\":\"pixel\",\"x\":5,\"y\":10,\"color\":\"#2D5A27\"},{\"type\":\"pixel\",\"x\":4,\"y\":8,\"color\":\"#2D5A27\"},{\"type\":\"pixel\",\"x\":3,\"y\":9,\"color\":\"#2D5A27\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#2D5A27\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#2D5A27\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: make it look like the sky during a spooky sunset with lots of moss green and copper colors\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Make It Look Like The Sky Duri\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FF6600\",\"speed\":3000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I want to see a flower\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Flower\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a1a0a\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":5,\"y\":10,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":4,\"y\":9,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":6,\"y\":8,\"color\":\"#228B22\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: twinkling magenta stars\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Twinkling Magenta Stars\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FF6B4A\",\"bgColor\":\"#1a1a1a\",\"speed\":150,\"density\":0.15}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: paint a small flag\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Flag\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#87CEEB\"},{\"type\":\"pixel\",\"x\":2,\"y\":2,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":2,\"y\":3,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":2,\"y\":4,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":2,\"y\":5,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":2,\"y\":6,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":2,\"y\":7,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":2,\"y\":8,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":2,\"y\":9,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":2,\"y\":10,\"color\":\"#666666\"},{\"type\":\"rect\",\"x\":3,\"y\":2,\"w\":5,\"h\":4,\"color\":\"#FF0000\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: display the number 87\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Number\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"87\",\"x\":1,\"y\":5,\"color\":\"#FFD700\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: romantic evening ambiance\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Romantic Evening\",\"steps\":[{\"id\":\"warm_glow\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FFB6C1\",\"speed\":4000}},\"duration\":8000},{\"id\":\"deep_rose\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#9370DB\",\"color2\":\"#FFB6C1\"}},\"duration\":8000},{\"id\":\"candlelight\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFD700\",\"bgColor\":\"#4a1020\",\"speed\":150,\"density\":0.08}},\"duration\":8000},{\"id\":\"soft_wave\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF69B4\",\"color2\":\"#9370DB\",\"speed\":3000}},\"duration\":8000}],\"loop\":{\"count\":0,\"start_step\":\"warm_glow\",\"end_step\":\"soft_wave\"}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: gradual pine breathing\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Gradual Pine Breathing\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FF6B4A\",\"speed\":3000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: match the vibe of a coffee shop\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Match The Vibe Of A Coffee Sho\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#D88B70\",\"speed\":3000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: clock showing 3:30\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"3\",\"x\":2,\"y\":2,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#44AAFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#44AAFF\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":8,\"color\":\"#44AAFF\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: draw a tiny arrow pointing right\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Arrow Pointing Right\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"rect\",\"x\":1,\"y\":5,\"w\":6,\"h\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":7,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":8,\"y\":5,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":8,\"y\":6,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":9,\"y\":5,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":6,\"y\":8,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":7,\"y\":8,\"color\":\"#00FF88\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: stretching timer 15 minutes\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Stretching Timer 15 Minutes\",\"steps\":[{\"id\":\"phase1\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FFB6C1\",\"color2\":\"#F5F5DC\"}},\"duration\":10000},{\"id\":\"phase2\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FFB6C1\",\"speed\":3000}},\"duration\":5000},{\"id\":\"phase3\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FFB6C1\",\"color2\":\"#F5F5DC\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: render a small candy cane\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Candy Cane\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a1a0a\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#FF0000\"},{\"type\":\"pixel\",\"x\":6,\"y\":1,\"color\":\"#FF0000\"},{\"type\":\"pixel\",\"x\":7,\"y\":1,\"color\":\"#FF0000\"},{\"type\":\"pixel\",\"x\":7,\"y\":2,\"color\":\"#FF0000\"},{\"type\":\"pixel\",\"x\":6,\"y\":1,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#FF0000\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FF0000\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF0000\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#FF0000\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#FF0000\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#FF0000\"},{\"type\":\"pixel\",\"x\":6,\"y\":8,\"color\":\"#FF0000\"},{\"type\":\"pixel\",\"x\":6,\"y\":9,\"color\":\"#FF0000\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":9,\"color\":\"#FFFFFF\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: new year mode\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"New Year\",\"steps\":[{\"id\":\"gold\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFD700\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.2}},\"duration\":3000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":200}},\"duration\":400},{\"id\":\"rainbow\",\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":1500}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"gold\",\"end_step\":\"rainbow\"}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: sunflower on the display\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Flower\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a1a0a\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":5,\"y\":10,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":4,\"y\":9,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":6,\"y\":8,\"color\":\"#228B22\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: a festive sword\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Sword\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#CCCCCC\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#CCCCCC\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#CCCCCC\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#CCCCCC\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#CCCCCC\"},{\"type\":\"pixel\",\"x\":3,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#8B4513\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#FFD700\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: pulsing mauve\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Pulsing Mauve\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FF6B4A\",\"speed\":3500}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: fade from teal to sunset orange\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Sunset\",\"steps\":[{\"id\":\"bright\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FFD700\"}},\"duration\":150000},{\"id\":\"orange\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFD700\"}},\"duration\":150000},{\"id\":\"dusk\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#483D8B\",\"color2\":\"#FF6B4A\"}},\"duration\":150000},{\"id\":\"night\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#0a0a1a\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: rapid neon green breathing\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Rapid Neon Green Breathing\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FF6B4A\",\"speed\":1000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I want to see a flame\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Flame\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a0a\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFFF00\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FFDD00\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFDD00\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FFDD00\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FFAA00\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFAA00\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FFAA00\"},{\"type\":\"pixel\",\"x\":3,\"y\":5,\"color\":\"#FF4400\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#FF4400\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FF4400\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#FF4400\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#FF4400\"},{\"type\":\"pixel\",\"x\":3,\"y\":6,\"color\":\"#FF4400\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#FF4400\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FF4400\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#FF4400\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#FF4400\"},{\"type\":\"pixel\",\"x\":4,\"y\":7,\"color\":\"#CC2200\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#CC2200\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#CC2200\"},{\"type\":\"pixel\",\"x\":4,\"y\":8,\"color\":\"#881100\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#881100\"},{\"type\":\"pixel\",\"x\":6,\"y\":8,\"color\":\"#881100\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: all honey\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"All Honey\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF6B4A\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: draw a guitar for 15 minutes then breathing olive\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Guitar Then Breathing\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#888888\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#888888\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#888888\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":3,\"y\":5,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":3,\"y\":6,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":4,\"y\":7,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#000000\"}]},\"duration\":900000},{\"id\":\"after\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FF6B4A\",\"speed\":3000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: fade from coral to red\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Transition\",\"steps\":[{\"id\":\"start\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF7F50\"}},\"duration\":15000},{\"id\":\"end\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I want to see a moon\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Moon\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":6,\"y\":1,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":7,\"y\":1,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":8,\"y\":2,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":8,\"y\":3,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":8,\"y\":6,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":8,\"y\":7,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":6,\"y\":8,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":7,\"y\":8,\"color\":\"#FFFFCC\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: set it to a nice arctic blue and jade combination that would be great for wine tasting during the dawn\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Set It To A Nice Arctic Blue A\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#C0C0C0\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show a lightning bolt\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Lightning Bolt\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"rect\",\"x\":4,\"y\":1,\"w\":4,\"h\":1,\"color\":\"#FFD700\"},{\"type\":\"rect\",\"x\":3,\"y\":2,\"w\":4,\"h\":1,\"color\":\"#FFD700\"},{\"type\":\"rect\",\"x\":2,\"y\":3,\"w\":4,\"h\":1,\"color\":\"#FFD700\"},{\"type\":\"rect\",\"x\":2,\"y\":4,\"w\":6,\"h\":1,\"color\":\"#FFFF00\"},{\"type\":\"rect\",\"x\":3,\"y\":5,\"w\":6,\"h\":1,\"color\":\"#FFFF00\"},{\"type\":\"rect\",\"x\":5,\"y\":6,\"w\":4,\"h\":1,\"color\":\"#FFD700\"},{\"type\":\"rect\",\"x\":4,\"y\":7,\"w\":4,\"h\":1,\"color\":\"#FFD700\"},{\"type\":\"rect\",\"x\":3,\"y\":8,\"w\":4,\"h\":1,\"color\":\"#FFD700\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":3,\"h\":1,\"color\":\"#FFA500\"},{\"type\":\"rect\",\"x\":5,\"y\":10,\"w\":2,\"h\":1,\"color\":\"#FFA500\"},{\"type\":\"pixel\",\"x\":5,\"y\":11,\"color\":\"#FF8C00\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show BYE in electric blue on black background\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Display BYE\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000000\"},{\"type\":\"text\",\"content\":\"BYE\",\"x\":0,\"y\":5,\"color\":\"#4A90D9\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: lavender sparkle on dark purple background\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Lavender Sparkle On Dark Purpl\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#191970\",\"bgColor\":\"#0a0a0a\",\"speed\":150,\"density\":0.15}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: the perfect sunset ambiance\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"The Perfect Sunset Ambiance\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FFB6C1\",\"color2\":\"#9370DB\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: subtle\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Subtle\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#DEB887\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show a triangle with bright background animation\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Triangle Then Gradient\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FF6B4A\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FF6B4A\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FF6B4A\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FF6B4A\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF6B4A\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF6B4A\"},{\"type\":\"pixel\",\"x\":2,\"y\":5,\"color\":\"#FF6B4A\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#FF6B4A\"},{\"type\":\"pixel\",\"x\":1,\"y\":6,\"color\":\"#FF6B4A\"},{\"type\":\"pixel\",\"x\":8,\"y\":6,\"color\":\"#FF6B4A\"},{\"type\":\"rect\",\"x\":1,\"y\":7,\"w\":8,\"h\":1,\"color\":\"#FF6B4A\"}]},\"duration\":5000},{\"id\":\"after\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FFFFFF\",\"color2\":\"#FFD700\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: fast fuchsia breathing\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Fast Fuchsia Breathing\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FF6B4A\",\"speed\":800}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I want to see a hand\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Hand\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":2,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":7,\"y\":2,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":3,\"y\":3,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":3,\"y\":5,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":4,\"y\":7,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":2,\"y\":5,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":2,\"y\":6,\"color\":\"#DEB887\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I want to see a key\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Key\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":8,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":8,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":9,\"color\":\"#FFD700\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: candle on the display\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Candle\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"rect\",\"x\":4,\"y\":4,\"w\":3,\"h\":6,\"color\":\"#FFFFCC\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: movie watching timer 15 minutes\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Movie Watching Timer 15 Minute\",\"steps\":[{\"id\":\"phase1\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#191970\",\"color2\":\"#0a0a1a\"}},\"duration\":8000},{\"id\":\"phase2\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#191970\",\"speed\":4000}},\"duration\":8000},{\"id\":\"phase3\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#191970\",\"color2\":\"#0a0a1a\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: alternate between burnt sienna and navy\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Color Cycle\",\"steps\":[{\"id\":\"c0\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#E97451\"}},\"duration\":2000},{\"id\":\"c1\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#191970\"}},\"duration\":2000}],\"loop\":{\"count\":0,\"start_step\":\"c0\",\"end_step\":\"c1\"}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: a energetic candy cane\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Candy Cane\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a1a0a\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#FF0000\"},{\"type\":\"pixel\",\"x\":6,\"y\":1,\"color\":\"#FF0000\"},{\"type\":\"pixel\",\"x\":7,\"y\":1,\"color\":\"#FF0000\"},{\"type\":\"pixel\",\"x\":7,\"y\":2,\"color\":\"#FF0000\"},{\"type\":\"pixel\",\"x\":6,\"y\":1,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#FF0000\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FF0000\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF0000\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#FF0000\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#FF0000\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#FF0000\"},{\"type\":\"pixel\",\"x\":6,\"y\":8,\"color\":\"#FF0000\"},{\"type\":\"pixel\",\"x\":6,\"y\":9,\"color\":\"#FF0000\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":9,\"color\":\"#FFFFFF\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I would really love it if you could make the lamp feel like a minimalist campfire during dawn with navy tones\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"I Would Really Love It If You \",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#F5F5F5\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: romantic light\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Romantic Light\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FFB6C1\",\"color2\":\"#9370DB\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: simulate a bold gentle rain\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Rain\",\"steps\":[{\"id\":\"rain\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4488FF\",\"bgColor\":\"#0a0a2a\",\"speed\":60,\"density\":0.2}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: transition from honey to neon green over 5 minutes\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Transition\",\"steps\":[{\"id\":\"start\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#EB9605\"}},\"duration\":150000},{\"id\":\"end\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#39FF14\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: fade from terracotta to red\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Transition\",\"steps\":[{\"id\":\"start\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC6644\"}},\"duration\":15000},{\"id\":\"end\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: simulate a zen lightning storm\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Thunderstorm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: set it to a nice turquoise and dusty rose combination that would be great for movie watching during the golden hour\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Set It To A Nice Turquoise And\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#191970\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: mysterious animation\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Mysterious Animation\",\"steps\":[{\"id\":\"phase1\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#483D8B\",\"color2\":\"#1a1a3a\"}},\"duration\":10000},{\"id\":\"phase2\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#483D8B\",\"speed\":4000}},\"duration\":8000},{\"id\":\"phase3\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#483D8B\",\"color2\":\"#1a1a3a\",\"speed\":3000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: match the vibe of a mountain cabin\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Match The Vibe Of A Mountain C\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#D88B70\",\"speed\":4000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: match the vibe of a spa\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Match The Vibe Of A Spa\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#87CEEB\",\"color2\":\"#F0F8FF\",\"speed\":3000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: pixel art hand\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Hand\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":2,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":7,\"y\":2,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":3,\"y\":3,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":3,\"y\":5,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":4,\"y\":7,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":2,\"y\":5,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":2,\"y\":6,\"color\":\"#DEB887\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: pixel art a hot pink infinity symbol\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Infinity Symbol\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"pixel\",\"x\":2,\"y\":4,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":3,\"y\":3,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":8,\"y\":4,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":2,\"y\":6,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":3,\"y\":7,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":7,\"y\":7,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":8,\"y\":6,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":1,\"y\":5,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":9,\"y\":5,\"color\":\"#FF69B4\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: pomodoro 1 minute work 2 minutes break\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}},\"duration\":60000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: mountain\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Mountain\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#87CEEB\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":3,\"y\":5,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":2,\"y\":6,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":3,\"y\":6,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":8,\"y\":6,\"color\":\"#666666\"},{\"type\":\"rect\",\"x\":1,\"y\":7,\"w\":9,\"h\":3,\"color\":\"#666666\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FFFFFF\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: pomodoro 15 minutes work 5 minutes break\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":900000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#44BB77\",\"speed\":4000}},\"duration\":600000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: pomodoro 15 minutes work 10 minutes break\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}},\"duration\":900000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#44BB77\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: a futuristic chess piece\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Chess Piece\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":5,\"h\":1,\"color\":\"#FFFFFF\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: gaming timer 20 minutes\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Gaming Timer 20 Minutes\",\"steps\":[{\"id\":\"phase1\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF4444\",\"color2\":\"#FFD700\"}},\"duration\":8000},{\"id\":\"phase2\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FF4444\",\"speed\":3000}},\"duration\":5000},{\"id\":\"phase3\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF4444\",\"color2\":\"#FFD700\",\"speed\":3000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: fiery light\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Fiery Light\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF4444\",\"color2\":\"#FF6600\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: flash emerald\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Flash Emerald\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FF6B4A\",\"speed\":500}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show a cup with rustic background animation\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Cup Then Breathing\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"rect\",\"x\":3,\"y\":3,\"w\":5,\"h\":6,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":8,\"y\":4,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":8,\"y\":5,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":8,\"y\":6,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#6B3A2A\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#6B3A2A\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#6B3A2A\"}]},\"duration\":5000},{\"id\":\"after\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#8B4513\",\"speed\":3000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show an analog clock at 3 o'clock\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Analog Clock 3:00\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"rect\",\"x\":3,\"y\":1,\"w\":5,\"h\":1,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":2,\"y\":2,\"color\":\"#333333\"},{\"type\":\"rect\",\"x\":3,\"y\":2,\"w\":5,\"h\":1,\"color\":\"#1a1a3a\"},{\"type\":\"pixel\",\"x\":8,\"y\":2,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":1,\"y\":3,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":9,\"y\":3,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":1,\"y\":4,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":9,\"y\":4,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":1,\"y\":5,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":9,\"y\":5,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":1,\"y\":6,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":9,\"y\":6,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":1,\"y\":7,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":9,\"y\":7,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":1,\"y\":8,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":9,\"y\":8,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":2,\"y\":9,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":8,\"y\":9,\"color\":\"#333333\"},{\"type\":\"rect\",\"x\":3,\"y\":10,\"w\":5,\"h\":1,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":8,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":2,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FF4444\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#CCCCCC\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#CCCCCC\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: powder blue and turquoise wave\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Powder Blue And Turquoise Wave\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2500}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: flash jade then show a mushroom\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Mushroom Then Pulse\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a1a0a\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#FF4444\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FF4444\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#FF4444\"},{\"type\":\"pixel\",\"x\":3,\"y\":3,\"color\":\"#FF4444\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FF4444\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FF4444\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FF4444\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#FF4444\"},{\"type\":\"pixel\",\"x\":2,\"y\":4,\"color\":\"#FF4444\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF4444\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FF4444\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FF4444\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF4444\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#FF4444\"},{\"type\":\"pixel\",\"x\":8,\"y\":4,\"color\":\"#FF4444\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#DEB887\"}]},\"duration\":5000},{\"id\":\"after\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FF6B4A\",\"speed\":300}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show FIRE in bright yellow on dark background\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Display FIRE\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"FIRE\",\"x\":0,\"y\":5,\"color\":\"#FFFF00\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: red and dusty rose gradient\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Red And Dusty Rose Gradient\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: pulsing jade\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Pulsing Jade\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FF6B4A\",\"speed\":3000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: like being at a underwater cave\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Like Being At A Underwater Cav\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#483D8B\",\"speed\":4000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: emerald light\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Emerald Light\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#50C878\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I would really love it if you could make the lamp feel like a spooky library during evening with fern tones\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"I Would Really Love It If You \",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6600\",\"color2\":\"#1a0a2a\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: sky blue\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Sky Blue\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#4A90D9\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: simulate a moody lava flow\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Volcano\",\"steps\":[{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FF2200\",\"speed\":1500}},\"duration\":3000},{\"id\":\"erupt\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FF6600\",\"speed\":300}},\"duration\":500},{\"id\":\"flow\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF4400\",\"color2\":\"#FF0000\",\"speed\":1500}},\"duration\":4000}],\"loop\":{\"count\":0,\"start_step\":\"rumble\",\"end_step\":\"flow\"}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: set the color to peach\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Set The Color To Peach\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF6B4A\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: simulate a cozy sunset\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Sunset\",\"steps\":[{\"id\":\"bright\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FFD700\"}},\"duration\":150000},{\"id\":\"orange\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFD700\"}},\"duration\":150000},{\"id\":\"dusk\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#483D8B\",\"color2\":\"#FF6B4A\"}},\"duration\":150000},{\"id\":\"night\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#0a0a1a\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: cycle through emerald, fern, and bright yellow\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Color Cycle\",\"steps\":[{\"id\":\"c0\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FFFF00\"}},\"duration\":2000},{\"id\":\"c1\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#50C878\"}},\"duration\":2000},{\"id\":\"c2\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#4F7942\"}},\"duration\":2000}],\"loop\":{\"count\":0,\"start_step\":\"c0\",\"end_step\":\"c2\"}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: simulate lava flow\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Volcano\",\"steps\":[{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FF2200\",\"speed\":1500}},\"duration\":3000},{\"id\":\"erupt\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FF6600\",\"speed\":300}},\"duration\":500},{\"id\":\"flow\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF4400\",\"color2\":\"#FF0000\",\"speed\":1500}},\"duration\":4000}],\"loop\":{\"count\":0,\"start_step\":\"rumble\",\"end_step\":\"flow\"}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: waterfall effect\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Waterfall Effect\",\"steps\":[{\"id\":\"phase1\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}},\"duration\":10000},{\"id\":\"phase2\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FF6B4A\",\"speed\":2000}},\"duration\":8000},{\"id\":\"phase3\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":3000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: cyan and leaf green wave\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Cyan And Leaf Green Wave\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: a energetic chess piece\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Chess Piece\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":5,\"h\":1,\"color\":\"#FFFFFF\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: ghost on the display\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Ghost\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a2a\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":7,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":7,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":7,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":8,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":8,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#000000\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: paint a hot pink robot face\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Robot Face\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#FF0000\"},{\"type\":\"rect\",\"x\":3,\"y\":2,\"w\":5,\"h\":6,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#00FFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#00FFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#00FFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#00FFFF\"},{\"type\":\"rect\",\"x\":4,\"y\":6,\"w\":3,\"h\":1,\"color\":\"#FF0000\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: the perfect early morning ambiance\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"The Perfect Early Morning Ambi\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF6B4A\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: fade from olive to arctic blue\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Transition\",\"steps\":[{\"id\":\"start\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#4A90D9\"}},\"duration\":15000},{\"id\":\"end\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#D0EAFF\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: can u make it romantic\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Can U Make It Romantic\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FFB6C1\",\"speed\":4000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: the perfect night ambiance\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"The Perfect Night Ambiance\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#191970\",\"color2\":\"#0a0a1a\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I want minimalist vibes\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"I Want Minimalist Vibes\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#F5F5F5\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: make a cute dog\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Dog\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a1a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":2,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":3,\"y\":3,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":7,\"y\":2,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":4,\"y\":7,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":4,\"y\":8,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":6,\"y\":8,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":3,\"y\":9,\"color\":\"#C4A882\"},{\"type\":\"pixel\",\"x\":7,\"y\":9,\"color\":\"#C4A882\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: display a cute cup\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Cup\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"rect\",\"x\":3,\"y\":3,\"w\":5,\"h\":6,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":8,\"y\":4,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":8,\"y\":5,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":8,\"y\":6,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#6B3A2A\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#6B3A2A\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#6B3A2A\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: render a diamond\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Diamond\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#00BFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#00BFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#00BFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#00BFFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#00BFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#00BFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#00BFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#00BFFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#00BFFF\"},{\"type\":\"pixel\",\"x\":2,\"y\":5,\"color\":\"#00BFFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":5,\"color\":\"#00BFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#00BFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#00BFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#00BFFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#00BFFF\"},{\"type\":\"pixel\",\"x\":8,\"y\":5,\"color\":\"#00BFFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":6,\"color\":\"#00BFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#00BFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#00BFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#00BFFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#00BFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":7,\"color\":\"#00BFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00BFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#00BFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#00BFFF\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: create a arctic blue piano keys\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Key\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#4A90D9\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#4A90D9\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#4A90D9\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#4A90D9\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#4A90D9\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#4A90D9\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#4A90D9\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#4A90D9\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#4A90D9\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#4A90D9\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#4A90D9\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#4A90D9\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#4A90D9\"},{\"type\":\"pixel\",\"x\":6,\"y\":8,\"color\":\"#4A90D9\"},{\"type\":\"pixel\",\"x\":7,\"y\":8,\"color\":\"#4A90D9\"},{\"type\":\"pixel\",\"x\":6,\"y\":9,\"color\":\"#4A90D9\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: luxurious animation\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Luxurious Animation\",\"steps\":[{\"id\":\"phase1\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FFD700\",\"color2\":\"#800080\"}},\"duration\":5000},{\"id\":\"phase2\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FFD700\",\"speed\":2000}},\"duration\":10000},{\"id\":\"phase3\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FFD700\",\"color2\":\"#800080\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: zen light\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Zen Light\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#228B22\",\"speed\":4000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: navy and mauve gradient\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Navy And Mauve Gradient\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: focus timer with 1 minute work and 30 minutes rest\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}},\"duration\":60000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#228B22\",\"speed\":4000}},\"duration\":600000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: cycle through sage green, burnt sienna, and orange\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Color Cycle\",\"steps\":[{\"id\":\"c0\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF6B4A\"}},\"duration\":2000},{\"id\":\"c1\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#E97451\"}},\"duration\":2000},{\"id\":\"c2\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#B2AC88\"}},\"duration\":2000}],\"loop\":{\"count\":0,\"start_step\":\"c0\",\"end_step\":\"c2\"}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: wake up light that starts dim and gets bright over 15 minutes\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Sleep Timer\",\"steps\":[{\"id\":\"dim0\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#483D8B\"}},\"duration\":180000},{\"id\":\"dim1\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#2F2F5F\"}},\"duration\":180000},{\"id\":\"dim2\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#1a1a3a\"}},\"duration\":180000},{\"id\":\"dim3\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#0d0d1f\"}},\"duration\":180000},{\"id\":\"dim4\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#050510\"}},\"duration\":180000}],\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#000000\"}}}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: deep seafoam\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Deep Seafoam\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#93E9BE\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: winter late night vibes\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Winter Late Night Vibes\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#191970\",\"color2\":\"#0a0a1a\",\"speed\":3000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: fern sparkle on dark purple background\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Fern Sparkle On Dark Purple Ba\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#191970\",\"bgColor\":\"#0a0a0a\",\"speed\":150,\"density\":0.1}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: twinkling sunset orange stars\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Twinkling Sunset Orange Stars\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFB6C1\",\"bgColor\":\"#1a1a1a\",\"speed\":80,\"density\":0.1}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show a ghost that pulses\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Ghost Then Pulse\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a2a\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":7,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":7,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":7,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":3,\"y\":8,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":7,\"y\":8,\"color\":\"#FFFFFF\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#000000\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#000000\"}]},\"duration\":5000},{\"id\":\"after\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FF6B4A\",\"speed\":300}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: homework timer 30 minutes\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}},\"duration\":1800000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#44BB77\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: make it fiery\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Make It Fiery\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF4444\",\"color2\":\"#FF6600\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: display a neon green flame\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Flame\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a0a\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFFF00\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FFDD00\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFDD00\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FFDD00\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FFAA00\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFAA00\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FFAA00\"},{\"type\":\"pixel\",\"x\":3,\"y\":5,\"color\":\"#39FF14\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#39FF14\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#39FF14\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#39FF14\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#39FF14\"},{\"type\":\"pixel\",\"x\":3,\"y\":6,\"color\":\"#39FF14\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#39FF14\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#39FF14\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#39FF14\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#39FF14\"},{\"type\":\"pixel\",\"x\":4,\"y\":7,\"color\":\"#CC2200\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#CC2200\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#CC2200\"},{\"type\":\"pixel\",\"x\":4,\"y\":8,\"color\":\"#881100\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#881100\"},{\"type\":\"pixel\",\"x\":6,\"y\":8,\"color\":\"#881100\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: display temperature 1 degrees\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Temperature\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"1\",\"x\":1,\"y\":3,\"color\":\"#4488FF\"},{\"type\":\"text\",\"content\":\"C\",\"x\":6,\"y\":8,\"color\":\"#888888\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I want something that starts rustic and slowly becomes whimsical over the course of the twilight\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"I Want Something That Starts R\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#8B4513\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.08}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: something for a whimsical sunset\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Something For A Whimsical Suns\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF69B4\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: bell on the display\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Bell\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a1a0a\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":3,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":2,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":3,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":8,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":2,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":3,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":8,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#CC0000\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: countdown from 3 then rainbow\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Arrow Pointing Down Then Rainbow\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"rect\",\"x\":4,\"y\":1,\"w\":2,\"h\":7,\"color\":\"#FF6B4A\"},{\"type\":\"pixel\",\"x\":3,\"y\":8,\"color\":\"#FF6B4A\"},{\"type\":\"pixel\",\"x\":4,\"y\":8,\"color\":\"#FF6B4A\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#FF6B4A\"},{\"type\":\"pixel\",\"x\":6,\"y\":8,\"color\":\"#FF6B4A\"},{\"type\":\"pixel\",\"x\":2,\"y\":7,\"color\":\"#FF6B4A\"},{\"type\":\"pixel\",\"x\":7,\"y\":7,\"color\":\"#FF6B4A\"},{\"type\":\"pixel\",\"x\":3,\"y\":9,\"color\":\"#FF6B4A\"},{\"type\":\"pixel\",\"x\":6,\"y\":9,\"color\":\"#FF6B4A\"},{\"type\":\"pixel\",\"x\":4,\"y\":10,\"color\":\"#FF6B4A\"},{\"type\":\"pixel\",\"x\":5,\"y\":10,\"color\":\"#FF6B4A\"}]},\"duration\":5000},{\"id\":\"after\",\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":4000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: can you draw a candle\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Candle\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#FF6600\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"rect\",\"x\":4,\"y\":4,\"w\":3,\"h\":6,\"color\":\"#FFFFCC\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: display GO then rainbow\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Moon Then Rainbow\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":6,\"y\":1,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":7,\"y\":1,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":8,\"y\":2,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":8,\"y\":3,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":8,\"y\":6,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":8,\"y\":7,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":6,\"y\":8,\"color\":\"#FFFFCC\"},{\"type\":\"pixel\",\"x\":7,\"y\":8,\"color\":\"#FFFFCC\"}]},\"duration\":5000},{\"id\":\"after\",\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: display MOON\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Display PLAY\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"PLAY\",\"x\":0,\"y\":5,\"color\":\"#FFFFFF\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: transition from bright yellow to seafoam over 2 minutes\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Ocean Waves\",\"steps\":[{\"id\":\"wave1\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#4A90D9\",\"color2\":\"#003366\",\"speed\":3000}},\"duration\":6000},{\"id\":\"wave2\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#008B8B\",\"color2\":\"#003366\",\"speed\":2500}},\"duration\":6000}],\"loop\":{\"count\":0,\"start_step\":\"wave1\",\"end_step\":\"wave2\"}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: luxurious ice blue light\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Luxurious Ice Blue Light\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#4A90D9\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: bedtime routine over 30 minutes\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Sunset\",\"steps\":[{\"id\":\"bright\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FFD700\"}},\"duration\":450000},{\"id\":\"orange\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFD700\"}},\"duration\":450000},{\"id\":\"dusk\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#483D8B\",\"color2\":\"#FF6B4A\"}},\"duration\":450000},{\"id\":\"night\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#0a0a1a\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: display temperature 24 degrees\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Temperature\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"24\",\"x\":1,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"text\",\"content\":\"C\",\"x\":6,\"y\":8,\"color\":\"#888888\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: write FIRE in bright yellow\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Display FIRE\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"FIRE\",\"x\":0,\"y\":5,\"color\":\"#FFFF00\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: transition from electric blue to powder blue over 30 seconds\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Transition\",\"steps\":[{\"id\":\"start\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#4A90D9\"}},\"duration\":15000},{\"id\":\"end\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#B0E0E6\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: stretching timer 30 minutes\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Stretching Timer 30 Minutes\",\"steps\":[{\"id\":\"phase1\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FFB6C1\",\"color2\":\"#F5F5DC\"}},\"duration\":5000},{\"id\":\"phase2\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FFB6C1\",\"speed\":2000}},\"duration\":5000},{\"id\":\"phase3\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FFB6C1\",\"color2\":\"#F5F5DC\",\"speed\":3000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: a cozy bottle\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Bottle\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#228B22\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#228B22\"},{\"type\":\"rect\",\"x\":3,\"y\":4,\"w\":5,\"h\":7,\"color\":\"#228B22\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: display the number 44\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Number\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"44\",\"x\":1,\"y\":5,\"color\":\"#FFD700\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I want to see a pencil\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Pencil\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#333333\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#DEB887\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#DEB887\"},{\"type\":\"rect\",\"x\":4,\"y\":4,\"w\":3,\"h\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":9,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#FF69B4\"},{\"type\":\"pixel\",\"x\":6,\"y\":9,\"color\":\"#FF69B4\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: relaxing timer 30 seconds\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Relaxing Timer 30 Seconds\",\"steps\":[{\"id\":\"phase1\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#008B8B\",\"color2\":\"#E6E6FA\"}},\"duration\":8000},{\"id\":\"phase2\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#008B8B\",\"speed\":2000}},\"duration\":8000},{\"id\":\"phase3\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#008B8B\",\"color2\":\"#E6E6FA\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: professional afternoon light\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Professional Afternoon Light\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#F0F8FF\",\"color2\":\"#ADD8E6\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: celebration light show\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Party Mode\",\"steps\":[{\"id\":\"flash1\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FF00FF\",\"speed\":300}},\"duration\":500},{\"id\":\"flash2\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#00FFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"flash3\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFD700\",\"speed\":300}},\"duration\":500},{\"id\":\"rainbow\",\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":1000}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"flash1\",\"end_step\":\"rainbow\"}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I'm feeling relaxing, match my mood\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"I'M Feeling Relaxing, Match My\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#008B8B\",\"color2\":\"#E6E6FA\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: make the room feel like spa\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Make The Room Feel Like Spa\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#87CEEB\",\"speed\":4000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: pomodoro 5 minutes work 1 minute break\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}},\"duration\":300000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#44BB77\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show score 3-5\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Score\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"3\",\"x\":1,\"y\":3,\"color\":\"#FF4444\"},{\"type\":\"text\",\"content\":\"-\",\"x\":4,\"y\":6,\"color\":\"#FFFFFF\"},{\"type\":\"text\",\"content\":\"5\",\"x\":6,\"y\":3,\"color\":\"#4488FF\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: copper\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Copper\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#B87333\",\"speed\":3000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show the time 9:45\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"9\",\"x\":2,\"y\":2,\"color\":\"#FF4444\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FF4444\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#FF4444\"},{\"type\":\"text\",\"content\":\"45\",\"x\":2,\"y\":8,\"color\":\"#FF4444\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: soft peach light\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Soft Peach Light\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FFDAB9\",\"speed\":3000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: a bold lightbulb\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Lightbulb\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#FFFF44\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFFF44\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#FFFF44\"},{\"type\":\"pixel\",\"x\":3,\"y\":3,\"color\":\"#FFFF44\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FFFF44\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#FFFF44\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FFFF44\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#FFFF44\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FFFF44\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FFFF44\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFFF44\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FFFF44\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#FFFF44\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#FFFF44\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFFF44\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#FFFF44\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#888888\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#888888\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#888888\"},{\"type\":\"pixel\",\"x\":4,\"y\":7,\"color\":\"#888888\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#888888\"},{\"type\":\"pixel\",\"x\":6,\"y\":7,\"color\":\"#888888\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: clock showing 8:00\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"8\",\"x\":2,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#FFD700\"},{\"type\":\"text\",\"content\":\"00\",\"x\":2,\"y\":8,\"color\":\"#FFD700\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: draw a neon green lock\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Lock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#39FF14\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#39FF14\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#39FF14\"},{\"type\":\"pixel\",\"x\":3,\"y\":3,\"color\":\"#39FF14\"},{\"type\":\"pixel\",\"x\":7,\"y\":3,\"color\":\"#39FF14\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#39FF14\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#39FF14\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":7,\"h\":5,\"color\":\"#39FF14\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#FFD700\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: set the color to teal\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Set The Color To Teal\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF6B4A\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: pulsing steel blue\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Pulsing Steel Blue\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FF6B4A\",\"speed\":3500}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: cycle through terracotta, dusty rose, and warm white\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Color Cycle\",\"steps\":[{\"id\":\"c0\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FFF0DC\"}},\"duration\":2000},{\"id\":\"c1\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC6644\"}},\"duration\":2000},{\"id\":\"c2\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#DCAE96\"}},\"duration\":2000},{\"id\":\"c3\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FFFFFF\"}},\"duration\":2000}],\"loop\":{\"count\":0,\"start_step\":\"c0\",\"end_step\":\"c3\"}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: pixel art key\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Key\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":8,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":8,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":9,\"color\":\"#FFD700\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: can you please create something that feels like sitting by a fireplace in a cozy cabin during a winter overcast day while partying\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Can You Please Create Somethin\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: bright red\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Bright Red\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FF4444\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: simulate a fiery campfire\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Campfire\",\"steps\":[{\"id\":\"low\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FF4400\",\"speed\":2000}},\"duration\":3000},{\"id\":\"bright\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFAA00\",\"speed\":400}},\"duration\":600},{\"id\":\"ember\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FF6600\",\"bgColor\":\"#1a0a00\",\"speed\":100,\"density\":0.12}},\"duration\":4000}],\"loop\":{\"count\":0,\"start_step\":\"low\",\"end_step\":\"ember\"}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: show a key that glows\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Key Then Wave\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a2a\"},{\"type\":\"pixel\",\"x\":4,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":2,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":8,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":8,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":7,\"y\":8,\"color\":\"#FFD700\"},{\"type\":\"pixel\",\"x\":6,\"y\":9,\"color\":\"#FFD700\"}]},\"duration\":5000},{\"id\":\"after\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: gaming for 25 minutes then practicing guitar for 45 minutes\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Gaming For 25 Minutes Then Pra\",\"steps\":[{\"id\":\"phase1\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF4444\",\"color2\":\"#FFD700\"}},\"duration\":10000},{\"id\":\"phase2\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#FF4444\",\"speed\":3000}},\"duration\":10000},{\"id\":\"phase3\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF4444\",\"color2\":\"#FFD700\",\"speed\":2000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: melancholy jade light\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Melancholy Jade Light\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#00A86B\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I want something that starts elegant and slowly becomes cozy over the course of the evening\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"I Want Something That Starts E\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#D88B70\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.15}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I'm feeling gloomy, match my mood\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"I'M Feeling Gloomy, Match My M\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#2F4F4F\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: bright yellow\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Bright Yellow\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FFFF00\",\"speed\":3000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I would really love it if you could make the lamp feel like a gentle space station during dusk with jade tones\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"I Would Really Love It If You \",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FFB6C1\",\"color2\":\"#F5F5DC\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: display temperature 19 degrees\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Temperature\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"19\",\"x\":1,\"y\":3,\"color\":\"#FFD700\"},{\"type\":\"text\",\"content\":\"C\",\"x\":6,\"y\":8,\"color\":\"#888888\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: I would really love it if you could make the lamp feel like a professional japanese garden during dawn with honey tones\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"I Would Really Love It If You \",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#F0F8FF\",\"speed\":3000}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: vibrant lime light\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Vibrant Lime Light\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#00FF00\"}},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: focus timer with 10 minutes work and 20 minutes rest\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#D94444\"}},\"duration\":600000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: render a sage green saturn\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Saturn\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"pixel\",\"x\":4,\"y\":3,\"color\":\"#B2AC88\"},{\"type\":\"pixel\",\"x\":5,\"y\":3,\"color\":\"#B2AC88\"},{\"type\":\"pixel\",\"x\":6,\"y\":3,\"color\":\"#B2AC88\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#B2AC88\"},{\"type\":\"pixel\",\"x\":4,\"y\":4,\"color\":\"#B2AC88\"},{\"type\":\"pixel\",\"x\":5,\"y\":4,\"color\":\"#B2AC88\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#B2AC88\"},{\"type\":\"pixel\",\"x\":7,\"y\":4,\"color\":\"#B2AC88\"},{\"type\":\"pixel\",\"x\":3,\"y\":5,\"color\":\"#B2AC88\"},{\"type\":\"pixel\",\"x\":4,\"y\":5,\"color\":\"#B2AC88\"},{\"type\":\"pixel\",\"x\":5,\"y\":5,\"color\":\"#B2AC88\"},{\"type\":\"pixel\",\"x\":6,\"y\":5,\"color\":\"#B2AC88\"},{\"type\":\"pixel\",\"x\":7,\"y\":5,\"color\":\"#B2AC88\"},{\"type\":\"pixel\",\"x\":4,\"y\":6,\"color\":\"#B2AC88\"},{\"type\":\"pixel\",\"x\":5,\"y\":6,\"color\":\"#B2AC88\"},{\"type\":\"pixel\",\"x\":6,\"y\":6,\"color\":\"#B2AC88\"},{\"type\":\"pixel\",\"x\":1,\"y\":4,\"color\":\"#B8860B\"},{\"type\":\"pixel\",\"x\":2,\"y\":4,\"color\":\"#B8860B\"},{\"type\":\"pixel\",\"x\":8,\"y\":4,\"color\":\"#B8860B\"},{\"type\":\"pixel\",\"x\":9,\"y\":4,\"color\":\"#B8860B\"},{\"type\":\"pixel\",\"x\":0,\"y\":5,\"color\":\"#B8860B\"},{\"type\":\"pixel\",\"x\":1,\"y\":5,\"color\":\"#B8860B\"},{\"type\":\"pixel\",\"x\":8,\"y\":5,\"color\":\"#B8860B\"},{\"type\":\"pixel\",\"x\":9,\"y\":5,\"color\":\"#B8860B\"}]},\"duration\":null}]}}"}]}
{"conversations": [{"role": "system", "content": "You are a lamp programmer. You control a 172-LED lamp (10x14 front grid + 32 ambient back LEDs). Output ONLY a JSON light program. No text, no explanation.\n\n## Commands (use inside step.command):\n- solid(color) \u2014 all LEDs one color\n  {\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#FF4444\"}}\n- gradient(color, color2) \u2014 radial blend, center to edge\n  {\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\"}}\n- breathing(color, speed) \u2014 pulsing glow. speed in ms (2000=calm, 500=urgent)\n  {\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#4A90D9\",\"speed\":3000}}\n- wave(color, color2, speed) \u2014 color ripple across rows\n  {\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FF6B4A\",\"color2\":\"#FFE4C4\",\"speed\":2000}}\n- rainbow(speed) \u2014 cycling rainbow\n  {\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":3000}}\n- pulse(color, speed) \u2014 quick flash then fade, one-shot\n  {\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":500}}\n- sparkle(color, bgColor, speed, density) \u2014 random twinkling\n  {\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#FFF\",\"bgColor\":\"#1a1a1a\",\"speed\":100,\"density\":0.1}}\n- render(elements) \u2014 draw on the 10\u00d714 grid using drawing tools\n  {\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#000\"},{\"type\":\"text\",\"content\":\"HI\",\"x\":2,\"y\":4,\"color\":\"#FFF\"},{\"type\":\"pixel\",\"x\":5,\"y\":1,\"color\":\"#F44\"},{\"type\":\"rect\",\"x\":0,\"y\":12,\"w\":10,\"h\":2,\"color\":\"#333\"}]}\n  Drawing tools: fill(color), text(content,x,y,color), pixel(x,y,color), rect(x,y,w,h,color), line(x1,y1,x2,y2,color)\n  Grid: 10 wide \u00d7 14 tall. x=0 left, y=0 top. Text font: 3px wide per char + 1px gap. Use pixel for custom shapes.\n  Combine render with patterns in multi-step programs.\n\n## Program structure:\n{\"program\":{\"name\":\"...\",\"steps\":[{\"id\":\"...\",\"command\":{...},\"duration\":ms_or_null}],\"loop\":{\"count\":N,\"start_step\":\"id\",\"end_step\":\"id\"},\"on_complete\":{\"command\":{...}}}}\n- duration: null = stays forever. milliseconds = auto-advance after that time.\n- loop: optional. count=0 means infinite. Repeats from start_step to end_step.\n- on_complete: optional. Runs when program finishes all steps/loops.\n\n## Timing: 1min=60000, 5min=300000, 25min=1500000, 1hr=3600000. loop.count 0=infinite.\n\n## Color moods:\nWarm/cozy: #FF6B4A #FFE4C4 #D88B70 #FFBF00. Calm: #4A90D9 #008B8B #E6E6FA. Focus: #F0F8FF #ADD8E6. Sleep: #191970 #483D8B. Energy: #FF4444 #FF00FF #FFD700. Nature: #228B22 #8B4513. Romantic: #FFB6C1 #9370DB.\n\n## Examples:\n\nUser: \"warm and cozy\"\n{\"program\":{\"name\":\"Warm Cozy\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"gradient\",\"params\":{\"color\":\"#D88B70\",\"color2\":\"#FFF0DC\"}},\"duration\":null}]}}\n\nUser: \"pomodoro timer 25 min work 5 min break\"\n{\"program\":{\"name\":\"Pomodoro\",\"steps\":[{\"id\":\"work\",\"command\":{\"type\":\"pattern\",\"name\":\"solid\",\"params\":{\"color\":\"#CC3333\"}},\"duration\":1500000},{\"id\":\"break\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#33CC66\",\"speed\":4000}},\"duration\":300000}],\"loop\":{\"count\":4,\"start_step\":\"work\",\"end_step\":\"break\"},\"on_complete\":{\"command\":{\"type\":\"pattern\",\"name\":\"rainbow\",\"params\":{\"speed\":2000}}}}}\n\nUser: \"thunderstorm\"\n{\"program\":{\"name\":\"Storm\",\"steps\":[{\"id\":\"dark\",\"command\":{\"type\":\"pattern\",\"name\":\"breathing\",\"params\":{\"color\":\"#1a1a3a\",\"speed\":3000}},\"duration\":4000},{\"id\":\"flash\",\"command\":{\"type\":\"pattern\",\"name\":\"pulse\",\"params\":{\"color\":\"#FFFFFF\",\"speed\":300}},\"duration\":500},{\"id\":\"rumble\",\"command\":{\"type\":\"pattern\",\"name\":\"sparkle\",\"params\":{\"color\":\"#4444AA\",\"bgColor\":\"#0a0a1a\",\"speed\":80,\"density\":0.15}},\"duration\":3000}],\"loop\":{\"count\":0,\"start_step\":\"dark\",\"end_step\":\"rumble\"}}}\n\nUser: \"clock showing 14:30\"\n{\"program\":{\"name\":\"Clock\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#0a0a1a\"},{\"type\":\"text\",\"content\":\"14\",\"x\":2,\"y\":2,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":7,\"color\":\"#00FF88\"},{\"type\":\"pixel\",\"x\":5,\"y\":9,\"color\":\"#00FF88\"},{\"type\":\"text\",\"content\":\"30\",\"x\":2,\"y\":9,\"color\":\"#00FF88\"}]},\"duration\":null}]}}\n\nUser: \"show a heart\"\n{\"program\":{\"name\":\"Heart\",\"steps\":[{\"id\":\"show\",\"command\":{\"type\":\"render\",\"elements\":[{\"type\":\"fill\",\"color\":\"#1a0a1a\"},{\"type\":\"pixel\",\"x\":3,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"pixel\",\"x\":6,\"y\":4,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":2,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":5,\"y\":5,\"w\":3,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":3,\"y\":7,\"w\":4,\"h\":2,\"color\":\"#FF2266\"},{\"type\":\"rect\",\"x\":4,\"y\":9,\"w\":2,\"h\":1,\"color\":\"#FF2266\"}]},\"duration\":null}]}}"}, {"role": "user", "content": "Create a light program for this request.\n\nRequest: make the room feel like garden\n\nRespond with ONLY a JSON program. No text."}, {"role": "assistant", "content": "{\"program\":{\"name\":\"Make The Room Feel Like Garden\",\"steps\":[{\"id\":\"main\",\"command\":{\"type\":\"pattern\",\"name\":\"wave\",\"params\":{\"color\":\"#FFB6C1\",\"color2\":\"#F5F5DC\",\"speed\":3000}},\"duration\":null}]}}"}]}
